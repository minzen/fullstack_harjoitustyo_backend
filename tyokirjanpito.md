# Full Stack Web Development Project

## Työaikakirjanpito

| Päivä      | Aika  | Mitä tein                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------- | ----- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 06.11.2019 | 1     | Kurssin aloitus, sovelluksen ideointia, repository-init frontendille ja backendille, perehtymistä React Nativeen                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 06.11.2019 | 1     | Backend: Luotu perusschema käyttäjälle ja muistiinpanolle. ApolloServerin perustoiminnallisuus lisätty, joitakin esimerkkityyppimäärityksiä, resolvereita toteutettu. Tietokantaa ei vielä lisätty soppaa sotkemaan.                                                                                                                                                                                                                                                                                                                                                  |
| 06.11.2019 | 1,5   | React Native -frontend: luotu projekti, lisätty repository. Konfiguroitu testiympäristö toimimaan Expo-sovelluksen avulla iPhonessa ja simulaattorissa.                                                                                                                                                                                                                                                                                                                                                                                                               |
| 07.11.2019 | 9     | Jatkettu tutustumista React Nativeen: yksinkertainen ensimmäinen sovellus luotu, jossa listataan olemassa olevat muistiinpanot, liitetty komponentti- ja tyylikirjasto react-native-elements, navigointia varten lisätty react-navigation. Lisätty näkymät uusien muistiinpanojen lisäämiseen, Login-toiminnolle, Haetaan backendistä kaikki muistiinpanot ja esitetään ne listalla. Lisätty backendiin mutaatio, jonka avulla voidaan lisätä uusia muistiinpanoja. Tarkempi näkymä muistiinpanoille lisätty ja tutustuttu React Native -komponenttien stailaamiseen. |
| 08.11.2019 | 2,5   | Backend-toiminnallisuuden laajentamista: MongoDB-tietokanta otettu käyttöön, Mongoose-schemat toteutettu muistiinpanoille ja käyttäjille, GraphQL-resolvereita toteutettu. Puuttuvia ominaisuuksia täydennetty TODO-dokumenttiin.                                                                                                                                                                                                                                                                                                                                     |
| 08.11.2019 | 3     | React-Native -sovelluksen ohjelmointia: login-form toteutettu, tyylejä parannettu, Otettu ikoneita käyttöön.                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 08.11.2019 | 1,5   | Backend: lisää mutaatioita, resolvereita käyttäjien lisäämiseksi, käyttäjähallinnan perusteet                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 11.11.2019 | 2,5 h | Backend: toteutettu käyttäjän autentikointi backendissä (login) ja tokenin palauttaminen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 11.11.2019 | 1,5 h | Backend: toteutettu lisää mutaatioita (delete note), queryitä (me). Ongelman selvittelyä, miksei poisto tietokannasta toiminut.                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 11.11.2019 | 2 h   | Rajattu palautettavaa tietojoukkoa (esim. allNotes) kirjautuneen käyttäjän omien muistiinpanojen palauttamiseksi. Mahdollistettu ainoastaan käyttäjän omien muistiinpanojen poisto ja editointi. Toteutus + testaus.                                                                                                                                                                                                                                                                                                                                                  |
| 12.11.2019 | 3 h   | Backend-dokumentaatiota parannettu GraphQL:n API:n osalta. React Native -Frontend laitettu tottelemaan uutta loginia: token käyttöön kirjautuessa, näytetään login alussa ja piilotetaan muut osiot. Jos kirjautuneena, näytetään muut osiot + logout.                                                                                                                                                                                                                                                                                                                |
| 12.11.2019 | 1 h   | React Native -mobiiliapplikaation login muutettu käyttämään palvelimen loginia ja tallentamaan token AsyncStorageen.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 12.11.2019 | 1,5 h | Tutustuttu Detox-sovelluksen käyttöön e2e-testauksessa mobiilipuolella. Yritetty saada toimimaan, mutta vielä on työtä jäljellä.                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 13.11.2019 | 3 h   | Aloitettu Frontend-projektin rakentaminen ja jätetty mobiili-app hetkeksi syrjään. Lisätty aiemmin lisättyyn runkoon yksinkertainen login-komponentti sekä sille pari e2e-testiä Cypress-frameworkin avulla (etusivun aukeaminen, login-tietojen kirjoittaminen lomakkeeseen).                                                                                                                                                                                                                                                                                        |
| 13.11.2019 | 2 h   | Frontendin kanssa puuhastelua jatkettu: lisätty yksinkertainen Grid-näkymä, jossa muistiinpanot esitetään kortteina. Plus-nappulasta saadaan esiin modaalinen dialogi, jonka avulla käyttäjä voi syöttää uuden muistiinpanon järjestelmään.                                                                                                                                                                                                                                                                                                                           |
| 14.11.2019 | 1 h   | Frontendin tyylien muokkauksia ja Material UI:n testailua                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 14.11.2019 | 3 h   | Aloitettu Backendin refaktorointi: GraphQL-typeDefit siirretty index.js:stä omaan hakemistoon ja tiedostoihinsa.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 14.11.2019 | 1 h   | Frontendiin luotu profiilisivu ja sinne lomake, jonka avulla käyttäjä voi muokata tietojaan.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 14.11.2019 | 1 h   | Frontendiin toteutettu kirjautuminen ja tokenin tallentaminen localStorageen                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 15.11.2019 | 2 h   | Frontendiin korjauksia: käytetään sisäänkirjautunutta käyttäjää profiilisivun tietojen populointiin. Tyyliparannuksia, alettu tehdä parannuksia sovelluksen rakenteeseen (lomakkeet erillisiksi komponenteiksi yms.)                                                                                                                                                                                                                                                                                                                                                  |
| 15.11.2019 | 2 h   | Backendiin lisätty riippuvuudeksi in-memory MongoDB, otettu käyttöön e2e-testeille sekä alustetaan perussisällöt tietokantaan testejä varten.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 18.11.2019 | 5 h   | Backendiin alustusta hajautettu funktioihin, Frontendiin login ja rekisteröinti Card-komponenteille ja tyylimuotoiluja                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 19.11.2019 | 3 h   | Frontendiin lisätty toiminnallisuus muistiinpanojen poistolle sekä dummy-painike muokkaustoimintoa varten. Toteutettu Frontendiin mutaatio, jolla yksittäisen muistiinpanon saa poistettua. Backendistä korjattu tarkistus, kuuluuko muistiinpano tietylle käyttäjälle.                                                                                                                                                                                                                                                                                               |
| 19.11.2019 | 1 h   | Backendiin lisätty mutaatio salasanan vaihtoa varten. E2E-testien parantelua ja testausta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 19.11.2019 | 1 h   | Otettu mutaatio editUser käyttöön ja muokattu sitä backendistä toimimaan vain nykyisellä käyttäjällä (yksinkertaisempaa ja tällä hetkellä ainoa use case, kun ei ole Admin-käyttöliittymää)                                                                                                                                                                                                                                                                                                                                                                           |
| 19.11.2019 | 1 h   | Otettu mutaatio addNote käyttöön, muokattu toimimaan frontendissä. Testailua.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 20.11.2019 | 3 h   | Fiksattu frontendiä muistiinpanojen muokkauksen ja lisäyksen osalta. Refaktoroitu ja poistettu käyttämättömiä juttuja.                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 20.11.2019 | 1,5 h | Laajennettu Cypress-testejä uusilla tapauksilla (muistiinpanon lisäys ja poisto)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 20.11.2019 | 2,5 h | Laajennettu Cypress E2E-testejä (profiilitiedot), modularisoitu testejä sen mukaan, mihin sovelluksen osaan ne kohdistuvat. Lisätty toiminto, joka tunnistaa tekstistä web-linkin ja näyttää sen erikseen renderöitynä.                                                                                                                                                                                                                                                                                                                                               |
| 21.11.2019 | 1 h   | Lisätty oma tyyli, jota tarkoitus laajentaa ja muokata. Alettu tutkia, mitä kaikkea pitäisi validoida frontendissä ja backendissä                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 21.11.2019 | 3 h   | Validointia paranneltu sekä Frontendissä että Backendissä (näytetään virheet popup-elementissä login- ja rekisteröintilomakkeille). Toteutettu rekisteröintilomakkeelle E2E-testejä                                                                                                                                                                                                                                                                                                                                                                                   |
| 21.11.2019 | 1 h   | Validointia paranneltu edelleen (profiilitieto-sivun sekä vastaavien Backend-mutaatioiden osalta).                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 21.11.2019 | 1 h   | Lisätty frontendiin spinner + overlay useimpiiin Backendille suuntautuviin operaatioihin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 22.11.2019 | 1,5 h | Lisätty Backendiin muistiinpanoihin modification-kenttä, johon tallennetaan aikaleima viimeisimmästä muutosajankohdasta. Frontend näyttää tiedon, jos se on tallennettu.                                                                                                                                                                                                                                                                                                                                                                                              |
| 22.11.2019 | 3 h   | Lisätty E2E-testausta varten Backendiin toiminto, jolla saa nollattua E2E-tietokannan alkutilaan. Lisätty kutsu ennen testejä Frontendiin ja laajennettu E2E-testejä (mm. muistiinpanojen editointi ja kenttien päivittyminen)                                                                                                                                                                                                                                                                                                                                        |
| 22.11.2019 | 2 h   | Alettu hakutoiminnon toteutus: ensimmäisessä vaiheessa haku avainsanojen perusteella. Tätä varten toteutettu GraphQL-Query, jolla saadaan kaikki käyttäjän käyttämät avainsanat palautettua ja mahdollisesti hakukentässä näytettäväksi.                                                                                                                                                                                                                                                                                                                              |
| 26.11.2019 | 3 h   | Lisätty muistiinpanojen filtteröintiin query backendiin ja toteutus frontendiin (vielä erillisessä branchissä)                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 27.11.2019 | 0,5 h | Korjattu muutamien lomakkeiden lähetys, jotta toimivat myös enter-näppäimen painalluksella.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 27.11.2019 | 2 h   | Tyylejä ja värejä muokattu sopivammaksi. Lisätty toiminnallisuus Frontendiin, jossa edit- tai add-painikkeella hypätään editorin kohtaan (pitäisi parantaa käytettävyyttä hieman)                                                                                                                                                                                                                                                                                                                                                                                     |
| 27.11.2019 | 1 h   | Grid-systeemiä viilattu näyttämään Frontendissä eri määrä kortteja eri resoluutioissa (paremmin responsiiviseksi)                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 28.11.2019 | 2,5 h | Frontend-parannuksia: hajautettu sisältöä komponentteihin (login, register), lisätty about-page, joka listaa tietoa sovelluksesta uusille käyttäjille.                                                                                                                                                                                                                                                                                                                                                                                                                |
| 28.11.2019 | 4,5 h | Hakutoimintojen parantelua, korjattu e2e-testejä, paranneltu layouteja, tyylejä. Toteutettu toiminto, jolla voi liimata sisältöä leikepöydältä muistiinpanojen sisällöksi                                                                                                                                                                                                                                                                                                                                                                                             |
| 29.11.2019 | 5 h   | Muistiinpanojen näyttö- ja filtteröintitoimintojen refaktorointi, e2e-testien laajentamista ja korjaamista.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 29.11.2019 | 1 h   | Korjattu kirjautuneen käyttäjän asettaminen loginin yhteydessä, lisätty vakioita koodiin                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| 29.11.2019 | 0,5 h | ESLint otettu käyttöön backendin puolelle, tarkistettu olemassa olevat koodit ja tehty korjauksia.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 02.12.2019 | 2 h   | ESLint aktivoitu Frontendissä, tarkistettu koodit ja linttauksessa ilmenneet virheet korjattu                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 03.12.2019 | 3 h   | Refaktorointia: hajautettu sisältöä komponentteihin frontendissä: erikseen käytettäviä kenttäkomponentteja (esim. filtteröinti-/hakukenttä) varten luotu hakemisto, dialogeille luotu pari yleiskäyttöistä komponenttia ja sijoitettu ne omaan hakemistoonsa.                                                                                                                                                                                                                                                                                                         |
| 03.12.2019 | 3 h   | Webpack otettu käyttöön frontendissä, selvitelty erinäisiä virheitä loadereiden puuttuessa, versiokonflikteja asentuneen webpack-version ja create-react-app -sovelluksen asentamien riippuvuuksien välillä. Generoitu build ja testattu sitä palvelimella; Seuraavaksi backendin kimppuun.                                                                                                                                                                                                                                                                           |
| 03.12.2019 | 1 h   | Referenssi-toteutus backendistä laitettu palvelimelle ajoon (ei ainakaan toistaiseksi webpack-konfiguraatiota, koska palvelimella pyörii toistaiseksi node, yarn plus muut työkalut; katson tilannetta mahdollisesti vielä myöhemmin)                                                                                                                                                                                                                                                                                                                                 |
| 04.12.2019 | 4 h   | Refaktorointia: Frontendin puolella hajautettu sisältöä edelleen komponentteihin, korjailtu layouteja toimivimmiksi myös mobiililaitteissa. Backendiin API:in muistiinpanojen nouto-metodiin tehty muutos, jotta muistiinpanot palautetaan aikaleiman mukaan laskevassa järjestyksessä (uusimmasta vanhimpaan).                                                                                                                                                                                                                                                       |
| 04.12.2019 | 4 h   | Erinäisiä pikkufiksauksia, mutta myös isompi projektin osa: otettu käyttöön tekstien käännösmahdollisuus react-i18next-kirjaston avulla. Tarjotaan tällä hetkellä englanninkieliset tekstit ja myöhemmin tulevat suomi ja saksa.                                                                                                                                                                                                                                                                                                                                      |
| 04.12.2019 | 0,5 h | Suomen kielen käännökset teksteille lisätty frontendiin, mutta vasta potentiaalisesti käytettävissä, sillä Frontend ei vielä tarjoa kielenvalintaa.                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 05.12.2019 | 2 h   | Lisätty kielivalinta menupalkkiin, käännökset saksan kielelle                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 09.12.2019 | 7 h   | Lisää opt-in toiminnallisuuden rekisteröintiin (tiliä ei pääse käyttämään ennen kuin on klikannut vahvistuslinkkiä rekisteröintisähköpostissa)                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 12.12.2019 |  2 h  | Korjattu ongelma, jossa muistiinpanoja ei näytetty loginin jälkeen. Alettu tutkia, miten muistiinpanojen järjestämisen raahamalla voisi toteuttaa.                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 12.12.2019 | 3 h   |  Lisätty frontendiin mutaation resetPassword kutsu (metodi huolehtii emailin lähettämisestä käyttäjälle, joka on unohtanut salasanansa ja haluaisi nollata sen). Backendiin lisätty mutaation toteutus: sähköpostin generointi ja lähetys ko. tilanteessa. Vielä on toteutettava erillinen sivu, jossa tutkitaan linkin mukana oleva token ja mahdollistetaan varsinainen salasanan vaihto                                                                                                                                                                            |
| 22.12.2019 | 2 h   | Frontend-validointia lisätty (email-kentille käyttöön regular expression)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 22.12.2019 | 3 h   | Frontend- ja backend-toteutus: muistiinpanojen arkistointi, näytetään vain arkistoimattomat muistiinpanot (todo: frontendiin vielä mahdollisuus näyttää kaikki muistiinpanot)                                                                                                                                                                                                                                                                                                                                                                                         |
| 23.12.2019 | 2 h   | Frontendiin toteutus viestien näyttämiselle (arkistoimattomat/kaikki): käyttöliittymään lisätty painike, jolla tila saadaan muutettua.                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 26.01.2020 | 0,5 h | Palattu kurssin pariin, katsottu, mitä pitäisi vielä tehdä, tutkittu Github pages ja -actions-palveluita deployamiseen ja testien ajamiseen.                                                                                                                                                                                                                                                                                                                                                                                                                          |

yht. 135,5 h
